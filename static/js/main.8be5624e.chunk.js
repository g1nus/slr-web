(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(54)},54:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),l=a.n(c),s=a(21),o=a.n(s),u=a(5),i=a(12),p=function(e){return l.a.createElement("div",{className:"main-wrapper"},e.children)},m=a(2),d=function(e){var t=e.confirm;l.a.createElement(l.a.Fragment,null);return t?l.a.createElement("svg",{version:"1.1",id:"confirm-edit-button",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},l.a.createElement("polyline",{className:"st-confirm",points:"918,192.3 389.3,807.7 82,450 "})):l.a.createElement("svg",{version:"1.1",id:"edit-button",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},l.a.createElement("path",{className:"st-pencil",d:"M224,632.3l-81.6,225.3L367.7,776l0,0L833,310.7c39.4-39.4,39.9-103.3,0.7-142.9c-0.5-0.5-1-1-1.4-1.4 c-39.6-39.2-103.6-38.7-142.9,0.7L224,632.3L224,632.3z"}),l.a.createElement("path",{className:"st-pencil-border",d:"M367.7,776c-24-71.7-71.9-119.6-143.7-143.7"}),l.a.createElement("path",{className:"st-pencil",d:"M805.7,338c-24-71.7-71.9-119.6-143.7-143.7"}))},f=function(e){var t=Object(c.useContext)(E);return l.a.createElement("div",{className:"navigation-wrapper"},l.a.createElement("nav",{className:"main-nav"},t.title),e.children)},h=function(){var e,t=Object(c.useContext)(E);return Object(c.useEffect)(function(){return function(){t.setError(null)}}),e=t.error.payload?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"Error code:"),l.a.createElement("p",null,t.error.payload.statusCode),l.a.createElement("p",null,"Error name:"),l.a.createElement("p",null,t.error.payload.error),l.a.createElement("p",null,"Error message"),l.a.createElement("p",null,t.error.payload.message)):l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"Error name:"),l.a.createElement("p",null,t.error.name),l.a.createElement("p",null,"Error message"),l.a.createElement("p",null,t.error.message)),e=l.a.createElement("div",{className:"error-wrapper",style:{textAlign:"center"}},e)},E=l.a.createContext(),b=function(e){var t={image:l.a.createElement("img",{className:"face",alt:"profile",src:"https://placekitten.com/100/100"}),name:"Mario",surname:"Rossi"},a=Object(c.useState)(null),n=Object(m.a)(a,2),r=n[0],s=n[1],o=Object(c.useState)(l.a.createElement("div",{className:"nav-elements"}," ",l.a.createElement("h2",{className:"static-title"},"HOME")," ")),u=Object(m.a)(o,2),i={user:t,error:r,setError:s,title:u[0],setTitle:u[1]};return r?l.a.createElement(E.Provider,{value:i},l.a.createElement(h,null)):l.a.createElement(E.Provider,{value:i},e.children)},v=function(e){var t=Object(c.useContext)(E);return Object(c.useEffect)(function(){t.setTitle(l.a.createElement("div",{className:"nav-elements"}," ",l.a.createElement("h2",{className:"static-title"},"HOME")," "))},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Systematic Literature Review manager"),l.a.createElement("h2",{style:{fontSize:22,fontWeight:"normal"}},"the system right now allows you to"),l.a.createElement("ul",{style:{fontSize:18,fontWeight:"lighter"}},l.a.createElement("li",null,"browse a list of prjects"),l.a.createElement("li",null,"add a new project"),l.a.createElement("li",null,"browse the list of papers on a project"),l.a.createElement("li",null,"search(from scopus) and add papers to a project")),l.a.createElement("h2",{style:{fontSize:22,fontWeight:"normal"}},"notes"),l.a.createElement("ul",{style:{fontSize:18,fontWeight:"lighter"}},l.a.createElement("li",null,l.a.createElement("i",null,"the scopus search works partially(can't retrieve the description)"),l.a.createElement("ul",null,l.a.createElement("li",{style:{fontSize:16}},l.a.createElement("i",null,'from Elsevier developer portal : "The data available depends on your institutional subscriptions, and only when you\'re making calls from within your institutional network are you considered a subscriber"')))),l.a.createElement("li",null,l.a.createElement("i",null,"the options don't affect the search, for now"))))},x=function(e){var t=Object(c.useContext)(E);return l.a.createElement("div",{className:"user"},t.user.image,l.a.createElement("div",{className:"user-info"},t.user.name,l.a.createElement("br",null),t.user.surname))},w={home:"https://crowdai-slr-api-dev.herokuapp.com/",search:"search",scopus_search:"search-scopus",projects:"projects",papers:"papers",menu_list:[{id:4,content:"home",link:"/"},{id:5,content:"my projects",link:"/projects"},{id:6,content:"account",link:"#"}]},g=function(e){return l.a.createElement("svg",{id:"menu-button",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},l.a.createElement("path",{className:"st0",d:"M214,482.1"}),l.a.createElement("line",{className:"st-t",x1:"172",y1:"482.1",x2:"172",y2:"482.1"}),l.a.createElement("line",{className:"st-m",x1:"500",y1:"482.1",x2:"500",y2:"482.1"}),l.a.createElement("line",{className:"st-b",x1:"828",y1:"482.1",x2:"828",y2:"482.1"}))},y=function(e){var t=e.cls,a=e.handler;return l.a.createElement("div",{className:"cover "+t,onClick:function(e){a(!1)}})},j=function(e){return w.menu_list.map(function(t,a){return l.a.createElement("div",{key:a},l.a.createElement(u.b,{to:t.link,className:"menu-option",onMouseUp:e.handleMenuBlur},t.content))})},O=function(e){var t=Object(c.useState)(!1),a=Object(m.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!0),o=Object(m.a)(s,2),u=o[0],i=o[1];function p(e){r(!1)}var d="modal side-menu up",f="button-wrapper close";return u&&(d="modal side-menu"),n&&(f="button-wrapper open",d="modal side-menu down"),l.a.createElement("div",{className:"menu"},l.a.createElement(y,{cls:n?"full-screen-transparent":"",handler:p}),l.a.createElement("div",{className:f,onClick:function(){r(!n),i(!1)}},l.a.createElement(g,null)),l.a.createElement("div",{className:d,tabIndex:-1},l.a.createElement(x,null),l.a.createElement(j,{handleMenuBlur:p})))},k=a(1),N=a.n(k),S=a(3),C=a(10),T=a.n(C),P=1e4;function B(e){return L.apply(this,arguments)}function L(){return(L=Object(S.a)(N.a.mark(function e(t){var a,c,l,s,o,u,i,p=arguments;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>1&&void 0!==p[1]?p[1]:{},e.prev=1,n=new AbortController,c=n.signal,r=0,l=Object.assign({credentials:"include",mode:"cors",signal:c},a),s=setTimeout(function(){return n.abort(),void(r=2)},P),e.next=9,fetch(t,l);case 9:return o=e.sent,clearTimeout(s),e.next=13,_(o);case 13:return u=e.sent,I(o,u),e.abrupt("return",u);case 18:if(e.prev=18,e.t0=e.catch(1),2!==r){e.next=26;break}return(i=new Error("Error: Time out to get response from backend")).name="timeout",e.abrupt("return",i);case 26:if(1!==r){e.next=28;break}return e.abrupt("return",null);case 28:return e.abrupt("return",e.t0);case 29:case"end":return e.stop()}},e,null,[[1,18]])}))).apply(this,arguments)}function D(){return(D=Object(S.a)(N.a.mark(function e(t){var a,n,r,c=arguments;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=c.length>1&&void 0!==c[1]?c[1]:"",n="",""!==a){for(r in n="?",a)n+=r+"="+encodeURIComponent(a[r])+"&";n=n.slice(0,n.length-1)}return e.next=5,B(t+n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(){return(M=Object(S.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE"},e.next=3,B(t,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(){return(R=Object(S.a)(N.a.mark(function e(t){var a,n,r,c,l=arguments;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:"",(n=new Headers).append("Accept","application/json, text/plain, */*"),n.append("Cache-Control","no-cache"),n.append("Content-Type","application/json;charset=UTF-8"),r=JSON.stringify(a,null,2),c={method:"POST",headers:n,body:r},e.next=9,B(t,c);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(){return(F=Object(S.a)(N.a.mark(function e(t){var a,n,r,c,l=arguments;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:"",(n=new Headers).append("Accept","application/json, text/plain, */*"),n.append("Cache-Control","no-cache"),n.append("Content-Type","application/json;charset=UTF-8"),r=JSON.stringify(a,null,2),c={method:"PUT",headers:n,body:r},e.next=9,B(t,c);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e,t){if(e.status<200||e.status>=300){var a=new Error(e.statusText);throw a.data=e,t.payload&&(a.payload=t.payload),a}}function _(e){return A.apply(this,arguments)}function A(){return(A=Object(S.a)(N.a.mark(function e(t){var a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.headers.get("Content-Type"),n=null,null==a){e.next=21;break}if(!(a.indexOf("text")>-1)){e.next=7;break}return e.next=6,t.text();case 6:n=e.sent;case 7:if(!(a.indexOf("form")>-1)){e.next=11;break}return e.next=10,t.formData();case 10:n=e.sent;case 11:if(!(a.indexOf("video")>-1)){e.next=15;break}return e.next=14,t.blob();case 14:n=e.sent;case 15:if(!(a.indexOf("json")>-1)){e.next=19;break}return e.next=18,t.json();case 18:n=e.sent;case 19:e.next=25;break;case 21:if(null==t){e.next=25;break}return e.next=24,t.text();case 24:n=e.sent;case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}var X={get:function(e){return D.apply(this,arguments)},post:function(e){return R.apply(this,arguments)},delete:function(e){return M.apply(this,arguments)},put:function(e){return F.apply(this,arguments)},abortRequest:function(){n.abort(),r=1}};function U(){return(U=Object(S.a)(N.a.mark(function e(){var t,a,n,r=arguments;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",a=w.home+w.projects,e.next=4,X.get(a,t);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function q(){return(q=Object(S.a)(N.a.mark(function e(t){var a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.home+w.projects+"/"+t,e.next=3,X.get(a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function z(){return(z=Object(S.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.home+w.projects,e.next=3,X.post(a,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function V(){return(V=Object(S.a)(N.a.mark(function e(t,a){var n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=w.home+w.projects+"/"+t,e.next=3,X.put(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function W(){return(W=Object(S.a)(N.a.mark(function e(t){var a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.home+w.projects+"/"+t,e.next=3,X.delete(a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var J={getProjectsList:function(){return U.apply(this,arguments)},getProject:function(e){return q.apply(this,arguments)},postProject:function(e){return z.apply(this,arguments)},putProject:function(e,t){return V.apply(this,arguments)},deleteProject:function(e){return W.apply(this,arguments)},abortRequest:X.abortRequest},H=function(e){return l.a.createElement("svg",{id:"loading-icon",className:e.class,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},l.a.createElement("g",null,l.a.createElement("path",{id:"loading-circle1",d:" M 500, 500 m -160, 0 a 160,160 0 1,0 320,0 a 160,160 0 1,0 -320,0 "}),l.a.createElement("path",{id:"loading-circle2",d:" M 500, 500 m -305, 0 a 305,305 0 1,0 610,0 a 305,305 0 1,0 -610,0 "})))},Y=function(e){return l.a.createElement("svg",{id:"close-button",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},l.a.createElement("line",{className:"ln",x1:"134",y1:"866",x2:"866",y2:"134"}),l.a.createElement("line",{className:"ln",x1:"134",y1:"134",x2:"866",y2:"866"}))};var G=function(e){var t=Object(c.useState)(""),a=Object(m.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(m.a)(s,2),u=o[0],i=o[1],p=Object(c.useContext)(E);function d(){return(d=Object(S.a)(N.a.mark(function t(a){var r,c;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r={name:n,description:u},t.next=4,J.postProject(r);case 4:(c=t.sent).message&&p.setError(c),e.history.push("/projects/"+c.id);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function f(){return(f=Object(S.a)(N.a.mark(function t(a){var r,c;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r={name:n,description:u},t.next=4,J.putProject(e.project.id,r);case 4:(c=t.sent).message&&p.setError(c),alert("updated correctly");case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}var h={name:"",description:""},b=function(e){return d.apply(this,arguments)};return void 0!==e.project&&(h.name=e.project.data.name,h.description=e.project.data.description,b=function(e){return f.apply(this,arguments)}),l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:"modal add-project",style:{visibility:e.visibility?"":"hidden"}},l.a.createElement("button",{type:"button",className:"close-btn",onClick:function(t){e.setVisibility(!e.visibility)}},l.a.createElement(Y,null)),l.a.createElement("br",null),l.a.createElement("input",{defaultValue:n,onChange:function(e){return r(e.target.value)},type:"text",placeholder:"project name"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("textarea",{defaultValue:u,onChange:function(e){return i(e.target.value)},type:"text",placeholder:"project description"}),l.a.createElement("br",null),l.a.createElement("button",{type:"submit",onClick:b,value:"submit"},"Add project")))};var K=function(e){var t=e.start,a=e.count,n=e.totalResults,r=e.path;n>w.max_total_number_for_results&&(n=w.max_total_number_for_results),r=function(e){var t=window.location.href.split("?")[1];if(t){t=t.split("#")[0];for(var a="",n=t.split("&"),r=0;r<n.length;r++){var c=n[r].split("=")[0];"start"!==c&&"count"!==c&&(a+=n[r]+"&")}e=e+"?"+a}else e+="?";return e}(r);var c="",s="",o="",i="",p=[],m=Math.floor(t/a)+1,d=Math.round(n/a);if(d>1){m>1&&(c=l.a.createElement("li",null,l.a.createElement(u.b,{className:"prev-page",to:r+"start="+((m-1)*a>0?(m-2)*a:0)+"&count="+a},"<"))),m<d&&(s=l.a.createElement("li",null,l.a.createElement(u.b,{className:"next-page",to:r+"start="+m*a+"&count="+a},">"))),m>6&&(o=l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(u.b,{className:"first-page",to:r+"start=0&count="+a},"1")),l.a.createElement("li",null,l.a.createElement("span",null,"...")))),m<d-5&&(i=l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement("span",null,"...")),l.a.createElement("li",null,l.a.createElement(u.b,{style:{display:"inline-block"},className:"last-page",to:r+"start="+(d-1)*a+"&count="+a},d))));for(var f=m-4;f<=m+4;f++)f>0&&f<=d&&(f!==m?p.push(l.a.createElement(u.b,{className:"normal-page",to:r+"start="+(f-1)*a+"&count="+a},f)):p.push(l.a.createElement("span",{className:"current-page"},m)))}return l.a.createElement("ul",{className:"pagination"},c,o,p.map(function(e,t){return l.a.createElement("li",{style:{display:"inline-block",margin:10},key:t},e)}),i,s)};function $(e){var t="";return Object.keys(e).forEach(function(a){"years"!==a?e[a]&&(console.log(a),t+="&"+a+"="+e[a]):0!==e.years.length&&(t+="&"+T.a.stringify({years:e.years},{arrayFormat:"comma"}))}),t}function Q(e,t){return"/"===e.charAt(e.length-1)?e.slice(0,-1)+t:e+t}var Z=function(e){return l.a.createElement("svg",{version:"1.1",id:"options-button",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},l.a.createElement("path",{className:"st0",d:"M214,482.1"}),l.a.createElement("line",{className:"st-options",x1:"500",y1:"250",x2:"500",y2:"250"}),l.a.createElement("line",{className:"st-options",x1:"500",y1:"500",x2:"500",y2:"500"}),l.a.createElement("line",{className:"st-options",x1:"500",y1:"750",x2:"500",y2:"750"}))},ee=function(e){var t=e.cls,a=e.options,n=e.handler,r=e.target,s=Object(c.useState)(!1),o=Object(m.a)(s,2),u=o[0],i=o[1];return l.a.createElement("div",{className:t},l.a.createElement("button",{type:"button",onBlur:function(e){u&&i(!1)},onMouseDown:function(e){i(!u)}},l.a.createElement(Z,null)),l.a.createElement("div",{style:{fontSize:u?"12px":"0px",padding:u?"2px":"0px",border:u?"solid 1px #e8e8e8":"solid 0px #e8e8e8"},className:"options-list"},a.map(function(e,t){return l.a.createElement("div",{key:t,onMouseDown:function(e){return n(r)},className:"option"},e)})))},te=function(e){var t,a=e.projectsList,n=e.path,r=Object(c.useContext)(E),s=["delete"];function o(e){console.log("deleting "+e),function(){var t=Object(S.a)(N.a.mark(function t(){var a;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.deleteProject(e);case 2:(a=t.sent).message?r.setError(a):null!==a&&console.log("DELETED SUCCESFULLY!");case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()}return t=0===a.length?l.a.createElement("div",null,"there aren't projects"):a.map(function(e,t){return l.a.createElement("div",{key:e.id,className:"light-modal project-card"},l.a.createElement(ee,{options:s,handler:o,target:e.id,cls:"project-card-options"}),l.a.createElement(u.b,{to:Q(n,"/"+e.id)},l.a.createElement("h3",null,e.data.name),l.a.createElement("p",null,e.data.description)))}),l.a.createElement("div",{className:"project-cards-holder"},t)},ae=function(e){var t=Object(c.useState)([]),a=Object(m.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(0),o=Object(m.a)(s,2),u=o[0],i=o[1],p=Object(c.useState)(!1),d=Object(m.a)(p,2),f=d[0],h=d[1],b=Object(c.useState)(!1),v=Object(m.a)(b,2),x=v[0],w=v[1],g=Object(c.useContext)(E),j=T.a.parse(e.location.search&&e.location.search),O=j.count||10,k=j.start||0,C={start:k,count:O};return Object(c.useEffect)(function(){g.setTitle(l.a.createElement("div",{className:"nav-elements"}," ",l.a.createElement("h2",{className:"static-title"},"PROJECTS")," "))},[]),Object(c.useEffect)(function(){return function(){var e=Object(S.a)(N.a.mark(function e(){var t,a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),e.next=3,J.getProjectsList(C);case 3:"Not Found"===(t=e.sent).message?(r([]),i(0),h(!0)):t.message?g.setError(t):null!==t&&(a=[],a=t.results.filter(function(e){if(e.id%2)return e}),n=t.results.filter(function(e){if(!(e.id%2))return e}),r(a.concat(n)),i(t.totalResults),h(!0));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),function(){J.abortRequest()}},[k,O]),!1===f?l.a.createElement(H,null):l.a.createElement("div",null,l.a.createElement(y,{cls:x?"full-screen":"",handler:w}),l.a.createElement(te,{projectsList:n,path:e.match.url}),l.a.createElement(K,{start:k,count:O,totalResults:u,path:e.match.url}),l.a.createElement(G,{visibility:x,setVisibility:w,history:e.history}),l.a.createElement("button",{className:"bottom-left-btn",type:"button",value:"toggle-insert-form",onClick:function(e){w(!x)}},"+"))},ne=a(17),re=a(25),ce=a(24),le=a(14),se=a.n(le),oe=function(e){var t=e.val,a=e.label,n=e.isChecked,r=e.handler;return l.a.createElement("label",{className:"checkbox-container"},l.a.createElement("input",{type:"checkbox",value:t,name:a,defaultChecked:n,onChange:r}),l.a.createElement("span",{className:"checkmark"}),l.a.createElement("span",null,a))};function ue(){return(ue=Object(S.a)(N.a.mark(function e(t){var a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.home+w.search,e.next=3,X.get(a,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ie={search:function(e){return ue.apply(this,arguments)},abortRequest:X.abortRequest};function pe(){return(pe=Object(S.a)(N.a.mark(function e(t){var a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.home+w.papers,e.next=3,X.get(a,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function me(){return(me=Object(S.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.home+w.papers+"/"+t,e.next=3,X.get(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function de(){return(de=Object(S.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.home+w.papers,e.next=3,X.post(a,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fe(){return(fe=Object(S.a)(N.a.mark(function e(t,a){var n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=w.home+w.papers+"/"+t,e.next=3,X.put(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function he(){return(he=Object(S.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.home+w.papers+"/"+t,e.next=3,X.delete(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ee={getPapersList:function(e){return pe.apply(this,arguments)},getPaper:function(e){return me.apply(this,arguments)},postPaperIntoProject:function(e){return de.apply(this,arguments)},putPaper:function(e,t){return fe.apply(this,arguments)},deletePaper:function(e){return he.apply(this,arguments)},abortRequest:X.abortRequest},be=function(e){return l.a.createElement("svg",{id:"search-icon",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},l.a.createElement("path",{className:"st0",d:"M626.9,644.3c-73.5,0-142.6-28.6-194.6-80.6s-80.6-121.1-80.6-194.6s28.6-142.6,80.6-194.6 c52-52,121.1-80.6,194.6-80.6c73.5,0,142.6,28.6,194.6,80.6c52,52,80.6,121.1,80.6,194.6s-28.6,142.6-80.6,194.6 S700.4,644.3,626.9,644.3z"}),l.a.createElement("line",{className:"st1",x1:"145.2",y1:"850.8",x2:"431.7",y2:"564.3"}))},ve=a(11),xe=function(e){var t=e.papersList,a=e.handlePaperSelection;return t.map(function(e,t){var n;return l.a.createElement("div",{key:t,className:"paper-card"},l.a.createElement(oe,{val:e.eid,label:"",handler:a}),l.a.createElement(u.b,{to:"#"},l.a.createElement("h3",null,e.title)),l.a.createElement("div",{className:"extra-info"},l.a.createElement("p",{className:"authors"},e.authors),l.a.createElement("p",{className:"eid"},e.eid),l.a.createElement("p",{className:"date"},e.date)),l.a.createElement(se.a,(n={text:e.abstract,lines:4,ellipsis:"...",moreText:"Expand",lessText:"Collapse",className:"paragraph"},Object(ve.a)(n,"moreText","more"),Object(ve.a)(n,"lessText","less"),n)))})},we=function(e){var t=e.papersList;return 0===t.length?l.a.createElement("div",null,"there are no papers here, you can add new ones by searching"):t.map(function(e,t){var a;return l.a.createElement("div",{key:e.id,className:"paper-card"},l.a.createElement(u.b,{to:"#"},l.a.createElement("h3",null,e.data.title)),l.a.createElement("div",{className:"extra-info"},l.a.createElement("p",{className:"authors"},e.data.authors),l.a.createElement("p",{className:"eid"},e.data.eid),l.a.createElement("p",{className:"date"},e.data.date)),l.a.createElement(se.a,(a={text:e.data.abstract,lines:4,ellipsis:"...",moreText:"Expand",lessText:"Collapse",className:"paragraph"},Object(ve.a)(a,"moreText","more"),Object(ve.a)(a,"lessText","less"),a)))})},ge=function(e){var t="",a="";return e.focused?(t="90,295.5 500,704.5 910,295.5 ",a="90,704.5 500,295.5 910,704.5 "):(t="90,704.5 500,295.5 910,704.5 ",a="90,295.5 500,704.5 910,295.5 "),l.a.createElement("svg",{version:"1.1",id:"arrow-select",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},l.a.createElement("polyline",{className:"st-arrow-select",points:t},l.a.createElement("animate",{attributeType:"XML",id:"ani-select-arrow",attributeName:"points",from:t,to:a,begin:"0s",dur:"0.2s",repeatCount:"1",fill:"freeze"})))},ye=function(e){var t=e.options,a=e.selected,n=e.handler,r=Object(c.useState)(!1),s=Object(m.a)(r,2),o=s[0],u=s[1];function i(e){document.getElementById("ani-select-arrow").beginElement(),u(!o)}return l.a.createElement("div",{className:"custom-select"},l.a.createElement("div",{className:"selected",tabIndex:-2,onBlur:i,onFocus:i},t[a].label," ",l.a.createElement("div",{className:"arrow"},l.a.createElement(ge,{focused:o}))),l.a.createElement("div",{className:"options-holder",style:{fontSize:o?"15px":"0px",borderBottom:o?"1px solid #d7d7d7":"0px solid #d7d7d7",borderLeft:o?"1px solid #d7d7d7":"0px solid #d7d7d7",borderRight:o?"1px solid #d7d7d7":"0px solid #d7d7d7",borderTop:"none"}},t.map(function(e,t){return l.a.createElement("div",{key:t,"data-value":t,className:"option",style:{padding:o?"2px":"0px"},onMouseDown:n},e.label)})))},je=function(e){var t="",a="";return e.up?(t="371.7,293 500,165 628.3,293 ",a="371.7,491.9 500,619.9 628.3,491.9 "):(t="371.7,491.9 500,619.9 628.3,491.9 ",a="371.7,293 500,165 628.3,293 "),l.a.createElement("svg",{version:"1.1",id:"order-arrow",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},l.a.createElement("polyline",{className:"st-order-arrow-head",points:"371.7,491.9 500,619.9 628.3,491.9 ",transform:"matrix(1.5303008,0,0,1.5303008,-279.47582,-105.57059)"},l.a.createElement("animate",{attributeType:"XML",id:"ani-order-arrow",attributeName:"points",from:t,to:a,begin:"0s",dur:"0.2s",repeatCount:"1",fill:"freeze"})),l.a.createElement("line",{className:"st-order-arrow",x1:"485.67453",y1:"145.09268",x2:"485.67453",y2:"827.75989"}))},Oe=a(52),ke=[{value:"title",label:"Title"},{value:"date",label:"Date"}],Ne=function(e){var t=e.project_id,a=e.location,n=e.match,r=e.history,s=Object(c.useState)(0),o=Object(m.a)(s,2),u=o[0],i=o[1],p=Object(c.useState)(!0),d=Object(m.a)(p,2),f=d[0],h=d[1];function b(e){i(parseInt(e.target.getAttribute("data-value")))}function v(e){document.getElementById("ani-order-arrow").beginElement(),h(!f)}var x=Oe.range(2017,2020).map(String),w=T.a.parse(a.search),g=w.count||10,y=w.start||0,j=w.query||"",O="false"!==w.scopus&&Boolean(w.scopus||!1),k="false"!==w.scopus&&Boolean(w.googleScholar||!1),C="false"!==w.scopus&&Boolean(w.arXiv||!1),P=w.searchby;["all","author","paperTitle"].includes(P)||(P="all");var B=(w.years||"").split(",");""===B[0]&&(B=[]);var L={scopus:O,googleScholar:k,arXiv:C,all:"all"===P,author:"author"===P,paperTitle:"paperTitle"===P,years:B},D=Object(c.useState)(L),M=Object(m.a)(D,2),R=M[0],F=M[1],I=Object(c.useState)([]),_=Object(m.a)(I,2),A=_[0],X=_[1],U=Object(c.useState)([]),q=Object(m.a)(U,2),z=q[0],V=q[1],W=Object(c.useState)(j),J=Object(m.a)(W,2),Y=J[0],G=J[1],Q=Object(c.useState)(!0),Z=Object(m.a)(Q,2),ee=Z[0],te=Z[1],ae=Object(c.useState)(0),ne=Object(m.a)(ae,2),le=ne[0],se=ne[1],ue=Object(c.useContext)(E),pe={query:j,start:y,count:g,orderBy:ke[u].value,sort:f?"ASC":"DESC"};function me(e){var t=Object(ce.a)({},R),a=e.target.value;if(x.includes(a))if(R.years.includes(a)){var n=R.years.filter(function(e){return e!==a});t.years=n}else t.years.push(a);else t[a]=!R[a];F(t)}function de(){return(de=Object(S.a)(N.a.mark(function e(a){var n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),console.log(z),e.next=4,Ee.postPaperIntoProject({arrayEid:z,project_id:t});case 4:if(!(n=e.sent).message){e.next=8;break}return ue.setError(n),e.abrupt("return",null);case 8:alert("insert completed");case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fe(){return(fe=Object(S.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),""===Y?alert("search string is empty"):(a="?query="+encodeURIComponent(Y),a+=$(R),r.push(a));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(c.useEffect)(function(){!function(){var e=Object(S.a)(N.a.mark(function e(){var t;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(V([]),""===j){e.next=8;break}return te(!1),console.log(pe),e.next=6,ie.search(pe);case 6:"Not Found"===(t=e.sent).message?(X([]),se(0),te(!0)):t.message?ue.setError(t):null!==t&&(X(t.results),se(t.totalResults),te(!0));case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[y,g,f,u,j,O,k,C,t]);var he=l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:""===j?"search-form":"search-form small",onSubmit:function(e){return fe.apply(this,arguments)}},l.a.createElement("div",{style:{position:"relative"}},l.a.createElement("input",{type:"text",placeholder:"search",defaultValue:Y,onChange:function(e){return G(e.target.value)}}),l.a.createElement("button",{type:"submit",value:"Submit"},l.a.createElement(be,null))),l.a.createElement("div",{className:"option-holder"},l.a.createElement("label",null,"Source:"),l.a.createElement("br",null),l.a.createElement("div",{className:"checkboxes-holder"},l.a.createElement(oe,{label:"Scopus",value:"scopus",isChecked:R.scopus,handler:me}),l.a.createElement(oe,{label:"Google Scholar",value:"googleScholar",isChecked:R.googleScholar,handler:me}),l.a.createElement(oe,{label:"arXiv",value:"arXiv",isChecked:R.arXiv,handler:me})),l.a.createElement("label",null,"Search by:"),l.a.createElement("br",null),l.a.createElement("div",{className:"checkboxes-holder"},l.a.createElement(oe,{label:"All",value:"all",isChecked:R.all,handler:me}),l.a.createElement(oe,{label:"Author",value:"author",isChecked:R.author,handler:me}),l.a.createElement(oe,{label:"Paper title",value:"paperTitle",isChecked:R.paperTitle,handler:me})),l.a.createElement("label",null,"Year:"),l.a.createElement("br",null),l.a.createElement("div",{className:"checkboxes-holder"},l.a.createElement(oe,{label:"2019",value:"2019",isChecked:R.years.includes("2019"),handler:me}),l.a.createElement(oe,{label:"2018",value:"2018",isChecked:R.years.includes("2018"),handler:me}),l.a.createElement(oe,{label:"2017",value:"2017",isChecked:R.years.includes("2017"),handler:me}))))),ve="";if(!0===ee&&0===A.length&&""!==j)ve=l.a.createElement("div",{className:"not-found"}," not found :( ");else if(A.length>0&&""!==j){var we=l.a.createElement(xe,{papersList:A,handlePaperSelection:function(e){var t=e.target.value;if(z.includes(t)){var a=z.filter(function(e){return e!==t});V(a)}else{var n=Object(re.a)(z);n.push(t),V(n)}}});ve=l.a.createElement("div",{className:"paper-card-holder"},l.a.createElement("div",{className:"order"},l.a.createElement("label",null,"sort by:"),l.a.createElement(ye,{options:ke,selected:u,handler:b}),l.a.createElement("button",{type:"button",onClick:v},l.a.createElement(je,{up:f}))),we,l.a.createElement(K,{start:y,count:g,totalResults:le,path:n.url}),l.a.createElement("button",{className:"bottom-left-btn",type:"submit",value:"Submit"},"+"))}return!1===ee&&(ve=l.a.createElement("div",{className:"paper-card-holder"},l.a.createElement("div",{className:"order",style:{pointerEvents:"none"}},l.a.createElement("label",null,"sort by:"),l.a.createElement(ye,{options:ke,selected:u,handler:b}),l.a.createElement("button",{type:"button",onClick:v},l.a.createElement(je,{up:f}))),l.a.createElement("div",{className:"search-loading-holder"},l.a.createElement(H,{class:"small"})))),l.a.createElement(l.a.Fragment,null,he,l.a.createElement("form",{className:"search-results",onSubmit:function(e){return de.apply(this,arguments)}},ve))},Se=[{value:"eid",label:"EID"},{value:"title",label:"Title"},{value:"authors",label:"Authors"}],Ce=function(e){var t,a=e.project_id,n=e.location,r=e.match,s=Object(c.useState)([]),o=Object(m.a)(s,2),u=o[0],i=o[1],p=Object(c.useState)(0),d=Object(m.a)(p,2),f=d[0],h=d[1],b=Object(c.useState)(!0),v=Object(m.a)(b,2),x=v[0],w=v[1],g=Object(c.useState)(0),y=Object(m.a)(g,2),j=y[0],O=y[1],k=Object(c.useState)(!1),C=Object(m.a)(k,2),P=C[0],B=C[1],L=Object(c.useContext)(E),D=T.a.parse(n.search),M=D.count||10,R=D.start||0,F={project_id:a,start:R,count:M,orderBy:Se[f].value,sort:x?"ASC":"DESC"};function I(e){h(parseInt(e.target.getAttribute("data-value")))}function _(e){document.getElementById("ani-order-arrow").beginElement(),w(!x)}Object(c.useEffect)(function(){return function(){var e=Object(S.a)(N.a.mark(function e(){var t;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return B(!1),console.log(F),e.next=4,Ee.getPapersList(F);case 4:"Not Found"===(t=e.sent).message?(i([]),O(0),B(!0)):t.message?L.setError(t):null!==t&&(i(t.results),O(t.totalResults),B(!0));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),function(){Ee.abortRequest()}},[x,f,R,M]),!1===P?t=l.a.createElement("div",{className:"paper-card-holder"},l.a.createElement("div",{className:"order",style:{pointerEvents:"none"}},l.a.createElement("label",null,"sort by:"),l.a.createElement(ye,{options:Se,selected:f,handler:I}),l.a.createElement("button",{type:"button",onClick:_},l.a.createElement(je,{up:x}))),l.a.createElement(H,{class:"small"})):(u.length>0&&(u[0].id,u[u.length-1].id),t=l.a.createElement("div",{className:"paper-card-holder"},l.a.createElement("div",{className:"order"},l.a.createElement("label",null,"sort by:"),l.a.createElement(ye,{options:Se,selected:f,handler:I}),l.a.createElement("button",{type:"button",onClick:_},l.a.createElement(je,{up:x}))),l.a.createElement(we,{papersList:u}),l.a.createElement(K,{start:R,count:M,totalResults:j,path:r.url})));return t=l.a.createElement("div",{className:"papers-list"},t)},Te=function(e){var t=e.description,a=e.update,n=Object(c.useState)(!1),r=Object(m.a)(n,2),s=r[0],o=r[1];return l.a.createElement("div",{className:s?"project-description":"project-description hidden-form-description"},l.a.createElement("h2",null,"description:"),l.a.createElement("p",{style:{fontSize:s?"0px":"15px"}}," ",t),l.a.createElement("form",{className:"edit-project-description"},l.a.createElement("textarea",{id:"edit-project-description-input",defaultValue:t,style:{width:s?"100%":"0%",padding:s?"":"0px",height:s?"":"0px"},onBlur:function(e){console.log("blurring"),o(!1)}}),l.a.createElement("button",{className:"edit-button",onMouseDown:function(e){console.log("CLICK"),s?a():(setTimeout(function(){document.getElementById("edit-project-description-input").focus()},100),o(!0),console.log(s))},type:"button"},l.a.createElement(d,{confirm:s}))))},Pe=function(e){var t=e.name,a=e.update,n=Object(c.useState)(!1),r=Object(m.a)(n,2),s=r[0],o=r[1];return l.a.createElement("div",{className:s?"nav-elements":"nav-elements hidden-form"}," ",l.a.createElement("h2",{style:{fontSize:s?"0px":"21px"}},t),l.a.createElement("form",{className:"edit-project-name",onClick:function(e){s||(document.getElementById("edit-project-name-input").focus(),o(!s))},onSubmit:function(e){e.preventDefault()}},l.a.createElement("input",{type:"text",id:"edit-project-name-input",defaultValue:t,style:{width:s?"":"0px",padding:s?"":"0px"},onBlur:function(e){o(!1)}}),l.a.createElement("button",{className:"edit-button",onMouseDown:function(e){s&&(a(),o(!s))},type:"button"},l.a.createElement(d,{confirm:s}))))},Be=function(e){e.project;var t=e.match,a=e.slider;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"project-nav-link-wrapper"},l.a.createElement("div",{className:"nav-link"},l.a.createElement(u.b,{to:t.url},"papers")),l.a.createElement("div",{className:"nav-link"},l.a.createElement(u.b,{to:Q(t.url,"/search")},"search")),l.a.createElement(ne.b,{flipKey:a},l.a.createElement(ne.a,{flipId:"underline"},l.a.createElement("div",{className:a?"underline underline-to-left":"underline underline-to-right"})))))},Le=function(e){var t=Object(c.useState)({data:{name:"loading..."}}),a=Object(m.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),o=Object(m.a)(s,2),u=o[0],p=o[1],d=Object(c.useState)(!0),f=Object(m.a)(d,2),h=f[0],b=f[1],v=Object(c.useContext)(E),x=e.match.params.id,w=window.location.pathname.substring(window.location.pathname.length-7,window.location.pathname.length);function g(){var e=document.getElementById("edit-project-description-input").value,t=function(){var t=Object(S.a)(N.a.mark(function t(){var a;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.putProject(x,{name:n.data.name,description:e});case 2:(a=t.sent).message?v.setError(a):null!==a&&(console.log("UPDATED SUCCESFULLY!"),window.location.reload());case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();e!==n.data.description&&t()}function y(){console.log("UPDATING");var e=document.getElementById("edit-project-name-input").value;console.log(e);var t=function(){var t=Object(S.a)(N.a.mark(function t(){var a;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.putProject(x,{name:e,description:n.data.description});case 2:(a=t.sent).message?v.setError(a):null!==a&&(console.log("UPDATED SUCCESFULLY!"),window.location.reload());case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();e!==n.data.name&&t()}return Object(c.useEffect)(function(){"loading..."===n.data.name?v.setTitle(l.a.createElement("div",{className:"nav-elements"}," ",l.a.createElement("h2",{className:"static-title"},n.data.name)," ")):v.setTitle(l.a.createElement(Pe,{name:n.data.name,update:y}))},[n]),Object(c.useEffect)(function(){b("/search"!==w&&"search/"!==w)},[w]),Object(c.useEffect)(function(){return p(!1),function(){var e=Object(S.a)(N.a.mark(function e(){var t;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getProject(x);case 2:(t=e.sent).message?v.setError(t):null!==t&&(r(t),p(!0));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),function(){J.abortRequest()}},[x]),!1===u?l.a.createElement(H,null):l.a.createElement("div",{className:"project-wrapper"},l.a.createElement(Be,{project:n,match:e.match,slider:h}),l.a.createElement(i.a,{exact:!0,path:e.match.url,render:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Te,{description:n.data.description,update:g}),l.a.createElement(Ce,{project_id:x,location:e.location,match:e.match}))}}),l.a.createElement(i.a,{exact:!0,path:e.match.url+"/search",render:function(e){return l.a.createElement(Ne,Object.assign({project_id:x},e))}}))},De=function(e){return l.a.createElement(u.a,{basename:"slr-web/"},l.a.createElement("div",{className:"app"},l.a.createElement(b,null,l.a.createElement(f,null,l.a.createElement(O,null)),l.a.createElement(p,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",render:function(){return l.a.createElement(v,null)}}),l.a.createElement(i.a,{exact:!0,path:"/projects",render:function(e){return l.a.createElement(ae,e)}}),l.a.createElement(i.a,{path:"/projects/:id",render:function(e){return l.a.createElement(Le,e)}}),l.a.createElement(i.a,{render:function(e){return l.a.createElement("div",null,"404")}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(De,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.8be5624e.chunk.js.map